## 5. HTTP λ©”μ„λ“ ν™μ©

#### ν΄λΌμ΄μ–ΈνΈμ—μ„ μ„λ²„λ΅ λ°μ΄ν„° μ „μ†΅

λ°μ΄ν„° μ „λ‹¬ λ°©μ‹

1. GETμΌλ΅ μΏΌλ¦¬ νλΌλ―Έν„°λ¥Ό ν†µν• λ°μ΄ν„° μ „μ†΅
2. POST, PUT, PATCHλ΅ λ©”μ‹μ§€ λ°”λ””λ¥Ό ν†µν• λ°μ΄ν„° μ „μ†΅

<br/>

**π’ μ •μ  λ°μ΄ν„° μ΅°ν** - μ΄λ―Έμ§€, μ •μ  ν…μ¤νΈ λ¬Έμ„

μ΅°νλ” GET μ‚¬μ©

μΌλ°μ μΌλ΅ μΏΌλ¦¬ νλΌλ―Έν„° μ—†μ΄ λ¦¬μ†μ¤ κ²½λ΅λ΅ λ‹¨μν•κ² μ΅°ν κ°€λ¥

```
GET /static/star.jpg HTTP/1.1
Host: localhost:8080
```

<br/>

**π’ λ™μ  λ°μ΄ν„° μ΅°ν** - κ²€μƒ‰

GET μ‚¬μ©. μΏΌλ¦¬ νλΌλ―Έν„° ν•„μ”

```
GET /search?q=hello&hl=ko HTTP/1.1
Host: www.google.com
```

<br/>

**π’ HTML Form μ΄μ©** - νμ› κ°€μ…, μƒν’ μ£Όλ¬Έ, λ°μ΄ν„° λ³€κ²½ λ“± / GET,POSTλ§ μ§€μ›

POST μ „μ†΅

```html
<form action="/save" method="post">
 <input type="text" name="username" />
 <input type="text" name="age" />
 <button type="submit">μ „μ†΅</button>
</form>
```

μ„μ™€ κ°™μ€ νΌμ submit λ²„νΌμ„ λ„λ¥΄λ©΄ μ›Ή λΈλΌμ°μ €κ°€ λ°μ΄ν„°λ¥Ό μ½μ–΄ http λ©”μ‹μ§€λ¥Ό μ•„λμ™€ κ°™μ΄ μƒμ„±ν•΄μ¤€λ‹¤.

```
POST /save HTTP/1.1
Host: localhost:8080
Content-Type: application/x-www-form-urlencoded
username=kim&age=20
```

<br/>

GET μ „μ†΅

μ„μ formμ—μ„ methodλ§ getμΌλ΅ λ°”κΎΈλ©΄ μ›Ή λΈλΌμ°μ €λ” μ•„λμ™€ κ°™μ΄ http λ©”μ‹μ§€λ¥Ό μƒμ„±ν•λ‹¤.

```
GET /save?username=kim&age=20 HTTP/1.1
Host: localhost:8080
```

β  GETμ€ μ΅°νμ—λ§ μ‚¬μ©ν•κ³ , λ¦¬μ†μ¤ λ³€κ²½μ΄ μΌμ–΄λ‚λ” κ³³μ— μ‚¬μ©ν•λ©΄ μ•λλ‹¤.

<br/>

β… multipart/form-data

νμΌμ„ μ „μ†΅ν•  λ• μ“°μ„ (λ°”μ΄λ„λ¦¬ λ°μ΄ν„°)

```html
<form action="/save" method="post" enctype="multipart/form-data">
 <input type="text" name="username" />
 <input type="text" name="age" />
 <input type="file" name="file1" />
 <button type="submit">μ „μ†΅</button>
</form>
```

μ›Ή λΈλΌμ°μ €κ°€ μƒμ„±ν• HTTP λ©”μ‹μ§€

```
POST /save HTTP/1.1
Host: localhost:8080
Content-Type: multipart/form-data; boundary=-----XXX
Content-Length: 10457
------XXX
Content-Disposition: form-data; name="username"
kim
------XXX
Content-Disposition: form-data; name="age"
20
------XXX
Content-Disposition: form-data; name="file1"; filename="intro.png"
Content-Type: image/png
109238a9o0p3eqwokjasd09ou3oirjwoe9u34ouief...
------XXX--  (λμ— -- μ¶”κ°€)
```

<br/>

**π’ HTML API μ΄μ©** - νμ› κ°€μ…, μƒν’ μ£Όλ¬Έ, λ°μ΄ν„° λ³€κ²½

μ•„λμ™€ κ°™μ€ λ°μ΄ν„°λ¥Ό μ„λ²„μ— κ·Έλ€λ΅ λ„κΈ°λ©΄ λλ‹¤.

```
POST /members HTTP/1.1
Content-Type: application/json
{
 "username": "young",
 "age": 20
}
```

μ„λ²„ to μ„λ²„λ΅ λ°±μ—”λ“ μ‹μ¤ν… ν†µμ‹ μ΄λ‹¤.

μ›Ή/μ•± ν΄λΌμ΄μ–ΈνΈμ—μ„ ajax ν†µμ‹ μ„ ν•  λ• μ‚¬μ©ν•λ‹¤.

<br/>

#### HTTP API μ„¤κ³„ μμ‹

**π’ HTTP API - μ»¬λ ‰μ…** - POST κΈ°λ° λ“±λ΅

ν΄λΌμ΄μ–ΈνΈλ” λ“±λ΅λ  λ¦¬μ†μ¤μ  URIλ¥Ό λ¨λ¥Έλ‹¤.

μ„λ²„κ°€ μƒλ΅ λ“±λ΅λ λ¦¬μ†μ¤ URIλ¥Ό μƒμ„±ν•΄μ¤€λ‹¤.

μ»¬λ ‰μ…

* μ„λ²„κ°€ κ΄€λ¦¬ν•λ” λ¦¬μ†μ¤ λ””λ ‰ν† λ¦¬
* μ„λ²„κ°€ λ¦¬μ†μ¤μ URI μƒμ„± λ° κ΄€λ¦¬
* νμ› κ΄€λ¦¬ μμ‹μ—μ„ μ»¬λ ‰μ…μ€ /members κ°€ λλ‹¤.

<br/>

**π’ HTTP API - μ¤ν† μ–΄** - PUT κΈ°λ° λ“±λ΅

ν΄λΌμ΄μ–ΈνΈκ°€ λ¦¬μ†μ¤ URIλ¥Ό μ•κ³  μμ–΄μ•Ό ν•λ‹¤.

ν΄λΌμ΄μ–ΈνΈκ°€ μ§μ ‘ λ¦¬μ†μ¤ URIλ¥Ό μ§€μ •ν•λ‹¤.

μ¤ν† μ–΄

* ν΄λΌμ΄μ–ΈνΈκ°€ κ΄€λ¦¬ν•λ” λ¦¬μ†μ¤ μ €μ¥μ†
* ν΄λΌμ΄μ–ΈνΈκ°€ λ¦¬μ†μ¤μ URIλ¥Ό μ•κ³  κ΄€λ¦¬
* νμΌ κ΄€λ¦¬ μμ‹μ—μ„ μ¤ν† μ–΄λ” /files

(κ±°μ POSTλ¥Ό μ‚¬μ©ν•κ³ , PUTμ€ μ•„μ£Ό μΌλ¶€μ—μ„ μ‚¬μ©ν•λ‹¤.)

<br/>

**π’ HTML FORM μ‚¬μ©** - GET, POSTλ§ μ§€μ›

GET, POSTλ§ μ§€μ›ν•λ―€λ΅ μ μ•½μ΄ μλ‹¤.

λ”°λΌμ„ μ΄λ° μ μ•½μ„ ν•΄κ²°ν•κΈ° μ„ν•΄ /new, /edit, /deleteμ™€ κ°™μ€ μ»¨νΈλ΅¤ URIλ¥Ό μ‚¬μ©ν•λ‹¤.

HTTP λ©”μ„λ“λ‚ HTTP APIλ΅ ν•΄κ²°ν•κΈ° μ• λ§¤ν• κ²½μ° μ‚¬μ©ν•λ‹¤.

<br/>